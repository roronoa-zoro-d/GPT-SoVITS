# This file was generated using the `serve build` command on Ray v2.10.0.

proxy_location: EveryNode

http_options:

  host: 0.0.0.0

  port: 7001

grpc_options:

  port: 9000

  grpc_servicer_functions: []

logging_config:

  encoding: TEXT

  log_level: INFO

  # logs_dir: "/home/zhanghang/awesome-ai-projects/tts/server/logs"

  enable_access_log: true

applications:

- name: app1

  route_prefix: /

  import_path: cosyvoice_ray_server_ws:tts_cosyvoice_app

  runtime_env: {}

  deployments:

  - name: SpeakerEmbeddingsRedisRay
    num_replicas: 10
    max_ongoing_requests: 1
    ray_actor_options:
      num_cpus: 1.0
      num_gpus: 0.0

  - name: TtsFront
    num_replicas: 10
    max_ongoing_requests: 1
    ray_actor_options:
      num_cpus: 1.0
      num_gpus: 0.0

  - name: CosyVoiceWsRay
    num_replicas: 8
    max_ongoing_requests: 1
    ray_actor_options:
      num_cpus: 1.0
      num_gpus: 1.0

setup_commands:
- export CUDA_VISIBLE_DEVICES=1,2